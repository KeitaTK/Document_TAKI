# AP_Observer による揺れ制御

```cpp
// Calculates the body frame angular velocities to follow the target attitude
void AC_AttitudeControl::update_attitude_target()
{
    // rotate target and normalize
    Quaternion attitude_target_update;
    attitude_target_update.from_axis_angle(_ang_vel_target_rads * _dt);
    _attitude_target *= attitude_target_update;
    _attitude_target.normalize();
}
```
ここに補正クオータニオンを追加する。